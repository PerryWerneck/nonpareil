# $Id$
# Copyright 2004, 2005, 2006 Eric L. Smith <eric@brouhaha.com>

# Nonpareil is free software; you can redistribute it and/or modify it
# under the terms of the GNU General Public License version 2 as
# published by the Free Software Foundation.  Note that I am not
# granting permission to redistribute or modify Nonpareil under the
# terms of any later version of the General Public License.

# Nonpareil is distributed in the hope that they will be useful, but
# WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# General Public License for more details.

# You should have received a copy of the GNU General Public License
# along with this program (in the file "COPYING"); if not, write to
# the Free Software Foundation, Inc., 59 Temple Place - Suite 330,
# Boston, MA 02111, USA.

global
	title "16C Computer Scientist Calculator"
	author "Eric Smith <eric@brouhaha.com>"
	hardware "Voyager"
	model "16c"
	rom "16c.obj"
	image "16c_bkg.png"
	color 0 137 0 6	  # background color, used when transparency is off
	transparency 128
end

background
	offset 0 0
	size 574 366
end

# flag "f_anun"
# flag "g_anun"

# var "shiftmode"   # 0 for no shift, 1 for "f" shift, 2 for "g" shift

display
	offset 81 37
	size 305 55

	color 0  165 175 145  # background
	color 1  165 175 145  # unlit segments
	color 2    0   0   0  # lit segments

	annunciator  1  size  5  7 offset  13 42  end  # * (battery low)
	annunciator  2  size 23  7 offset  45 42  end  # USER

	annunciator  3  size  5  7 offset  88 42       # f
#            ondown
#                setflag "f_anun"
#		setvar "shift_mode" 1
#            end
#            onup
#                resetflag "f_anun"
#		setvar "shift_mode" 0
#            end
        end

	annunciator  4  size  6  8 offset 105 44       # g
#            ondown
#                setflag "g_anun"
#		setvar "shift_mode" 2
#            end
#            onup
#                resetflag "g_anun"
#		setvar "shift_mode" 0
#            end
        end

	annunciator  5  size 27  7 offset 124 42  end  # BEGIN
	annunciator  6  size  5  7 offset 181 42  end  # G
	annunciator  7  size 17  7 offset 187 42  end  # RAD
	annunciator  8  size 20  7 offset 211 42  end  # D.MY
	annunciator  9  size  5  7 offset 244 42  end  # C
	annunciator 10  size 23  7 offset 271 42  end  # PRGM

	digits 11
		size 27 31
		offset 5 4
	end

	segments
		offset 560 2 size 157 182

		segment 'a' color 255   0   0  end       # red
		segment 'b' color   0 255   0  end       # green
		segment 'c' color   0   0 255  end       # blue
		segment 'd' color 255 255   0  end       # yellow
		segment 'e' color 255   0 255  end       # purple
		segment 'f' color   0 255 255  end       # bluegreen
		segment 'g' color 255 128   0  end       # orange
		segment 'h' color 255   0 128  end       # pink
		segment 'i' color 128   0   0  end       # dark red
	end # segments

end # display

button 11  image "16c_b11.png"  offset  26 138  keycode 0x13  end
button 12  image "16c_b12.png"  offset  80 138  keycode 0x33  end
button 13  image "16c_b13.png"  offset 134 138  keycode 0x73  end
button 14  image "16c_b14.png"  offset 188 138  keycode 0xc3  end
button 15  image "16c_b15.png"  offset 242 138  keycode 0x83  end
button 16  image "16c_b16.png"  offset 296 138  keycode 0x82  end
button 17  image "16c_b17.png"  offset 350 138  keycode 0xc2  end
button 18  image "16c_b18.png"  offset 404 138  keycode 0x72  end
button 19  image "16c_b19.png"  offset 458 138  keycode 0x32  end
button 10  image "16c_b10.png"  offset 512 138  keycode 0x12  end

button 21  image "16c_b21.png"  offset  26 194  keycode 0x10  end
button 22  image "16c_b22.png"  offset  80 194  keycode 0x30  end
button 23  image "16c_b23.png"  offset 134 194  keycode 0x70  end
button 24  image "16c_b24.png"  offset 188 194  keycode 0xc0  end
button 25  image "16c_b25.png"  offset 242 194  keycode 0x80  end
button 26  image "16c_b26.png"  offset 296 194  keycode 0x87  end
button 27  image "16c_b27.png"  offset 350 194  keycode 0xc7  end
button 28  image "16c_b28.png"  offset 404 194  keycode 0x77  end
button 29  image "16c_b29.png"  offset 458 194  keycode 0x37  end
button 20  image "16c_b20.png"  offset 512 194  keycode 0x17  end

button 31  image "16c_b31.png"  offset  26 250  keycode 0x11  end
button 32  image "16c_b32.png"  offset  80 250  keycode 0x31  end
button 33  image "16c_b33.png"  offset 134 250  keycode 0x71  end
button 34  image "16c_b34.png"  offset 188 250  keycode 0xc1  end
button 35  image "16c_b35.png"  offset 242 250  keycode 0x81  end
button 36  image "16c_b36.png"  offset 296 250  keycode 0x84  end
button 37  image "16c_b37.png"  offset 350 250  keycode 0xc4  end
button 38  image "16c_b38.png"  offset 404 250  keycode 0x74  end
button 39  image "16c_b39.png"  offset 458 250  keycode 0x34  end
button 30  image "16c_b30.png"  offset 512 250  keycode 0x14  end

button 41  image "16c_b41.png"  offset  26 306  keycode 0x18  end
button 42  image "16c_b42.png"  offset  80 306  keycode 0x38  end
button 43  image "16c_b43.png"  offset 134 306  keycode 0x78  end
button 44  image "16c_b44.png"  offset 188 306  keycode 0xc8  end
button 45  image "16c_b45.png"  offset 242 306  keycode 0x88  end
button 47  image "16c_b47.png"  offset 350 306  keycode 0xc5  end
button 48  image "16c_b48.png"  offset 404 306  keycode 0x75  end
button 49  image "16c_b49.png"  offset 458 306  keycode 0x35  end
button 40  image "16c_b40.png"  offset 512 306  keycode 0x15  end

# main keyboard:
scancode "0"            map 0 47 end  # 0
scancode "1"            map 0 37 end  # 1
scancode "2"            map 0 38 end  # 2
scancode "3"            map 0 39 end  # 3
scancode "4"            map 0 27 end  # 4
scancode "5"            map 0 28 end  # 5
scancode "6"            map 0 29 end  # 6
scancode "7"            map 0 17 end  # 7
scancode "8"            map 0 18 end  # 8
scancode "9"            map 0 19 end  # 9
scancode "B"            map 0 26 end  # Bin
scancode "D"            map 0 24 end  # Dec
scancode "H"            map 0 23 end  # Hex
scancode "O"            map 0 25 end  # Oct
scancode "a"            map 0 11 end  # a
scancode "b"            map 0 12 end  # b
scancode "c"            map 0 13 end  # c
scancode "d"            map 0 14 end  # d
scancode "e"            map 0 15 end  # e
scancode "f"            map 0 16 end  # f
scancode "period"       map 0 48 end  # .
scancode "plus"         map 0 40 end  # +
scancode "minus"        map 0 30 end  # -
scancode "asterisk"     map 0 20 end  # *
scancode "slash"        map 0 10 end  # /
scancode "BackSpace"    map 0 35 end  # backspace 
scancode "Return"       map 0 36 end  # ENTER

# keypad:
scancode "KP_0"         map 0 47 end  # 0
scancode "KP_1"         map 0 37 end  # 1
scancode "KP_2"         map 0 38 end  # 2
scancode "KP_3"         map 0 39 end  # 3
scancode "KP_4"         map 0 27 end  # 4
scancode "KP_5"         map 0 28 end  # 5
scancode "KP_6"         map 0 29 end  # 6
scancode "KP_7"         map 0 17 end  # 7
scancode "KP_8"         map 0 18 end  # 8
scancode "KP_9"         map 0 19 end  # 9
scancode "KP_Decimal"   map 0 48 end  # .
scancode "KP_Separator" map 0 48 end  # ,
scancode "KP_Add"       map 0 40 end  # +
scancode "KP_Subtract"  map 0 30 end  # -
scancode "KP_Multiply"  map 0 20 end  # *
scancode "KP_Divide"    map 0 10 end  # /
scancode "KP_Enter"     map 0 36 end  # ENTER
